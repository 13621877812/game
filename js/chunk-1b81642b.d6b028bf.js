(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b81642b"],{"0c75":function(t,n,i){"use strict";i("2914")},"194b":function(t,n,i){"use strict";i("6a80")},2914:function(t,n,i){},"3e23":function(t,n,i){"use strict";i.r(n);var a=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"list-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cardNo,expression:"cardNo"}],ref:"copyInput",attrs:{type:"hidden"},domProps:{value:t.cardNo},on:{input:function(n){n.target.composing||(t.cardNo=n.target.value)}}}),i("div",{staticClass:"sku-wrapper"},[i("van-button",{attrs:{type:"info"},on:{click:t.getCardNo}},[t._v("生成卡号")]),i("span",{staticClass:"cardNo"},[t._v(t._s(t.cardNo))]),i("van-button",{attrs:{type:"primary"},on:{click:t.copyClick}},[t._v("复制")])],1),t._l(t.listData,(function(n,a){return i("div",{key:a,staticClass:"item",on:{click:function(n){return t.itemClick()}}},[i("div",{staticClass:"title-wrapper"},[i("span",{staticClass:"title"},[t._v(t._s(n.title))]),i("div",{staticClass:"btn-wrapper"},[i("div",{staticClass:"button",on:{click:function(i){return t.updateItem(n)}}},[t._v("修改")]),i("div",{staticClass:"button",on:{click:function(i){return t.addContent(n)}}},[t._v("新增")]),i("div",{staticClass:"button",on:{click:function(i){return t.deleteItem(n)}}},[t._v("删除")])])]),i("div",{staticClass:"content-wrapper"},t._l(n.contents,(function(a,e){return i("div",{key:e,staticClass:"content-item"},[i("p",{staticClass:"content"},[t._v(t._s(e+1)+") "+t._s(a.content))]),i("div",{staticClass:"item-btn-wrapper"},[i("van-button",{attrs:{type:"info"},on:{click:function(n){return t.editContent(a)}}},[t._v("编辑")]),i("van-button",{attrs:{type:"info"},on:{click:function(i){return t.deleteContent(n,a)}}},[t._v("删除")])],1)])})),0)])})),i("div",{staticClass:"bottom"},[i("van-button",{attrs:{type:"info"},on:{click:t.addItem}},[t._v("新增")])],1),i("dialog-component",{ref:"dialog"})],2)},e=[],o=(i("ac1f"),i("1276"),i("a15b"),function(){var t=this,n=t.$createElement,i=t._self._c||n;return t.show?i("div",{staticClass:"dialog-wrapper"},[i("div",{staticClass:"box-wrapper"},[i("p",{staticClass:"title"},[t._v(t._s(t.title))]),i("van-field",{attrs:{placeholder:"请输入"},model:{value:t.value,callback:function(n){t.value=n},expression:"value"}}),i("div",{staticClass:"btn-wrapper"},[i("van-button",{attrs:{round:"",type:"primary"},on:{click:t.hiddenDialog}},[t._v("取消")]),i("van-button",{attrs:{round:"",type:"info"},on:{click:t.confirm}},[t._v("确认")])],1)],1)]):t._e()}),s=[],c={name:"DialogComponent",data:function(){return{title:"",show:!1,value:"",callback:void 0}},methods:{showDialog:function(t,n,i){this.title=t,this.value=n||"",this.callback=i,this.show=!0},confirm:function(){this.callback&&this.callback(this.value),this.hiddenDialog()},hiddenDialog:function(){this.show=!1}}},l=c,r=(i("194b"),i("2877")),d=Object(r["a"])(l,o,s,!1,null,null,null),u=d.exports,f={name:"Server",components:{DialogComponent:u},data:function(){return{cardNo:"",listData:[],show:!1}},created:function(){this.getListDatas()},methods:{showPopup:function(){this.show=!0},getListDatas:function(){var t=this;this.bmobUtil.getListDatas().then((function(n){t.listData=n}))},addItem:function(){var t=this;this.$refs.dialog.showDialog("增加标题","",(function(n){t.addItemData(n)}))},addItemData:function(t,n,i){var a=this;this.bmobUtil.addItemData(t,n,i).then((function(){a.getListDatas()}))},deleteItem:function(t){var n=this;this.bmobUtil.deleteObject("item",t.objectId).then((function(){n.getListDatas()}))},updateItem:function(t){var n=this;this.$refs.dialog.showDialog("修改标题",t.title,(function(i){n.addItemData(i,t.objectId)}))},addContent:function(t){var n=this;this.$refs.dialog.showDialog("新增内容","",(function(i){n.addContentData(i,t)}))},addContentData:function(t,n){var i=this;this.bmobUtil.addContentData(t,n).then((function(){i.getListDatas()}))},deleteContent:function(t,n){var i=this;this.bmobUtil.deleteObject("content",n.objectId).then((function(){var a=[];t.contentIds&&0!=t.contentIds.length&&(a=t.contentIds.split(","));var e=a.indexOf(n.objectId);delete a[e],i.addItemData(void 0,t.objectId,a.join(","))}))},editContent:function(t){var n=this;this.$refs.dialog.showDialog("编辑内容",t.content,(function(i){n.bmobUtil.addContentData(i,void 0,t.objectId).then((function(){n.getListDatas()}))}))},itemClick:function(){},getCardNo:function(){var t=this;this.bmobUtil.getCardNo((function(n){t.cardNo=n}))},copyClick:function(){this.$refs.copyInput.type="text",this.$refs.copyInput.focus(),this.$refs.copyInput.select(),document.execCommand("copy"),this.$refs.copyInput.type="hidden"},randomNum:function(t,n){return parseInt(Math.random()*(n-t+1)+t,10)}}},p=f,v=(i("0c75"),Object(r["a"])(p,a,e,!1,null,null,null));n["default"]=v.exports},"6a80":function(t,n,i){}}]);
//# sourceMappingURL=chunk-1b81642b.d6b028bf.js.map